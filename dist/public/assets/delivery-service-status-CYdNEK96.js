import{j as e}from"./vendor-ui-DJm-zmnP.js";import{a as x}from"./vendor-query-CX8ZYlKb.js";import{B as o,C as i,x as h,y as j,f as l,r as f,j as t}from"./index-CLvpp2UE.js";import{r as p}from"./vendor-react-Bzsngnqy.js";import{R as u}from"./refresh-cw-BuGj2LMM.js";import{W as N}from"./wifi-BwJ6pui9.js";import{W as g}from"./wifi-off-D42PO9HC.js";import{C as y}from"./circle-check-CNDbPLNF.js";import{C as w}from"./circle-alert-CfteRpPO.js";import"./vendor-utils-BKCsaWdX.js";function E(){const[a,r]=p.useState(!1),{data:c=[],refetch:n}=x({queryKey:["/api/integrations/delivery/service-status"]}),m=async()=>{r(!0),await n(),setTimeout(()=>r(!1),1e3)},d=s=>{switch(s){case"connected":return e.jsx(t,{className:"bg-green-500",children:"متصل"});case"disconnected":return e.jsx(t,{variant:"destructive",children:"غير متصل"});case"warning":return e.jsx(t,{className:"bg-yellow-500",children:"تحذير"});default:return e.jsx(t,{children:"غير معروف"})}};return e.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"حالة خدمات التوصيل"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"مراقبة اتصال خدمات التوصيل والشركاء"})]}),e.jsxs(o,{onClick:m,disabled:a,variant:"outline",children:[e.jsx(u,{className:`w-4 h-4 mr-2 ${a?"animate-spin":""}`}),"تحديث"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(s=>e.jsxs(i,{children:[e.jsxs(h,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[e.jsx(j,{className:"text-lg capitalize",children:s.provider}),s.status==="connected"?e.jsx(N,{className:"w-5 h-5 text-green-500"}):e.jsx(g,{className:"w-5 h-5 text-red-500"})]}),e.jsxs(l,{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"الحالة:"}),d(s.status)]}),s.latency&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm text-gray-600 flex items-center",children:[e.jsx(f,{className:"w-4 h-4 mr-1"}),"الاستجابة:"]}),e.jsx("span",{className:"text-sm font-mono",children:s.latency})]}),s.ordersToday!==void 0&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"الطلبات اليوم:"}),e.jsx("span",{className:"text-sm font-semibold",children:s.ordersToday})]}),s.lastActive&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"آخر نشاط:"}),e.jsx("span",{className:"text-sm",children:s.lastActive})]}),e.jsx("div",{className:"pt-2 border-t flex items-center",children:s.status==="connected"?e.jsxs("div",{className:"flex items-center text-xs text-green-600",children:[e.jsx(y,{className:"w-4 h-4 mr-1"}),"الاتصال مستقر"]}):e.jsxs("div",{className:"flex items-center text-xs text-red-600",children:[e.jsx(w,{className:"w-4 h-4 mr-1"}),"فحص الاتصال"]})})]})]},s.provider))}),c.length===0&&e.jsx(i,{children:e.jsx(l,{className:"pt-6 text-center text-gray-500",children:"لم يتم العثور على خدمات توصيل متصلة"})})]})}export{E as default};
