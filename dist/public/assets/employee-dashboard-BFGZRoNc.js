const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CLvpp2UE.js","assets/vendor-ui-DJm-zmnP.js","assets/vendor-react-Bzsngnqy.js","assets/vendor-query-CX8ZYlKb.js","assets/vendor-utils-BKCsaWdX.js","assets/index-ZwtrkEfO.css"])))=>i.map(i=>d[i]);
import{l as ae,c as F,B as i,ae as re,U as u,Z as O,af as D,i as b,ag as le,ah as ce,a5 as ie,aa as ne,ab as de,ac as M,ai as B,C as p,f as j,j as y,R as oe,x as E,y as A,r as $,S as me}from"./index-CLvpp2UE.js";import{j as e}from"./vendor-ui-DJm-zmnP.js";import{r as c}from"./vendor-react-Bzsngnqy.js";import{c as P}from"./cluny-logo-staff-CmYJfeKH.js";import{S as I}from"./settings-CIxkmZWE.js";import{C as v}from"./chart-column-CfkHrk5y.js";import{W as Q}from"./warehouse-ByZ2zAAq.js";import{L as xe}from"./layout-dashboard-CDiioM3e.js";import{C as q}from"./clipboard-list-C6fMKNlJ.js";import{C as R}from"./chef-hat-BflflgM-.js";import{T as V}from"./table-CfApp7zM.js";import he from"./html2canvas.esm-BfxBtG_O.js";import{A as pe}from"./award-BZd4_AGi.js";import{M as Y}from"./monitor-smartphone-5TJGBhDy.js";import{E as je}from"./eye-cZNGFzyE.js";import{B as _}from"./bell-BKcM2vGh.js";import{C as ue}from"./circle-check-big-DlXUvwLH.js";import{C as ge}from"./circle-alert-CfteRpPO.js";import{F as fe}from"./file-text-QZcL_gux.js";import"./vendor-query-CX8ZYlKb.js";import"./vendor-utils-BKCsaWdX.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=ae("IdCard",[["path",{d:"M16 10h2",key:"8sgtl7"}],["path",{d:"M16 14h2",key:"epxaof"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0",key:"n6f512"}],["circle",{cx:"9",cy:"11",r:"2",key:"yxgjnd"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",key:"qneu4z"}]]);function ye({employee:r,onLogout:t}){const[o,m]=F(),w=[{label:"لوحة التحكم",icon:xe,path:"/employee/dashboard"},{label:"الكاشير",icon:D,path:"/employee/cashier"},{label:"نقاط البيع",icon:v,path:"/employee/pos"},{label:"الطلبات",icon:q,path:"/employee/orders"},{label:"المطبخ",icon:R,path:"/employee/kitchen"},{label:"الطاولات",icon:V,path:"/employee/table-orders"}],g=[{label:"إدارة النظام",icon:I,path:"/admin/settings"},{label:"إدارة الموظفين",icon:u,path:"/admin/employees"},{label:"التقارير",icon:v,path:"/admin/reports"},{label:"المحاسبة",icon:O,path:"/manager/accounting"},{label:"المخزون",icon:Q,path:"/manager/inventory"}],x=["manager","owner","admin"].includes(r?.role||""),d=x?[{label:"إدارة المشروبات",icon:b,path:"/employee/menu-management"},{label:"إدارة المأكولات",icon:le,path:"/employee/menu-management?type=food"}]:[],k=[...w,...x?g:[],...d];return e.jsxs("div",{className:"hidden lg:flex w-64 bg-background border-l border-border flex-col h-screen sticky top-0",children:[e.jsxs("div",{className:"p-4 border-b border-border",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("img",{src:P,alt:"CLUNY SYSTEMS",className:"w-10 h-10 object-contain rounded-lg"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-foreground",children:"CLUNY SYSTEMS"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"نظام الموظفين"})]})]}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["الموظف: ",r?.fullName||"جاري التحميل..."]})]}),e.jsxs("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:[k.map(l=>{const h=l.icon,n=o+window.location.search,C=l.path.includes("?")?n===l.path:o===l.path&&!window.location.search;return e.jsxs("button",{onClick:()=>m(l.path),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all text-sm ${C?"bg-primary text-primary-foreground shadow-sm":"text-foreground hover:bg-primary/10"}`,"data-testid":`sidebar-link-${l.label}`,children:[e.jsx(h,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:l.label})]},l.path)}),x&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"my-4 border-t border-border pt-4",children:e.jsx("p",{className:"px-4 text-xs font-bold text-[#B58B5A] uppercase",children:"القائمة الإدارية"})}),g.map(l=>{const h=l.icon,n=o===l.path;return e.jsxs("button",{onClick:()=>m(l.path),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all text-sm ${n?"bg-primary text-primary-foreground shadow-sm":"text-foreground hover:bg-primary/10"}`,"data-testid":`sidebar-link-${l.label}`,children:[e.jsx(h,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:l.label})]},l.path)})]})]}),e.jsx("div",{className:"p-4 border-t border-border space-y-2",children:e.jsxs(i,{onClick:t,variant:"outline",className:"w-full justify-start text-sm border-border text-muted-foreground hover:bg-destructive/10 hover:text-destructive","data-testid":"button-logout-sidebar",children:[e.jsx(re,{className:"w-4 h-4 ml-2"}),"تسجيل الخروج"]})})]})}function Pe(){const[,r]=F(),[t,o]=c.useState(null),[m,w]=c.useState(""),[g,x]=c.useState(!0);c.useEffect(()=>{document.title="لوحة تحكم الموظف - CLUNY SYSTEMS | إدارة الطلبات";const s=document.querySelector('meta[name="description"]');s&&s.setAttribute("content","لوحة تحكم الموظفين في CLUNY SYSTEMS - تتبع الطلبات والإجازات والإشعارات")},[]);const[d,k]=c.useState([]),[l,h]=c.useState([]),[n,C]=c.useState([]),[T,z]=c.useState([]),[be,W]=c.useState("");c.useState(""),c.useState([]),c.useState(!1),c.useState(!1);const S=c.useRef(null);c.useRef(null),c.useEffect(()=>{const s=localStorage.getItem("currentEmployee"),a=localStorage.getItem("caféAddress");if(s)try{const N=JSON.parse(s);o(N),U().finally(()=>{x(!1)});const L=setInterval(()=>{U()},5e3);return()=>clearInterval(L)}catch{window.location.href="/employee/login"}else window.location.href="/employee/login";a&&W(a)},[r]);const U=async()=>{await Promise.all([H(),K(),J()])},H=async()=>{try{const s=await fetch("/api/leave-requests",{credentials:"include"});if(s.ok){const a=await s.json();return k(a),a}}catch(s){console.error("Error fetching leave requests:",s)}return[]},K=async()=>{try{const s=await fetch("/api/orders?status=pending",{credentials:"include"});if(s.ok){const a=await s.json();return h(a||[]),a}else s.status===401&&console.warn("Unauthorized API call in dashboard")}catch(s){console.error("Error fetching pending orders:",s)}return[]},J=async()=>{try{const s=await fetch("/api/orders?status=preparing",{credentials:"include"});if(s.ok){const a=await s.json();return C(a||[]),a}}catch(s){console.error("Error fetching kitchen orders:",s)}return[]};c.useEffect(()=>{t?.id&&Z(t.id)},[t?.id]),c.useEffect(()=>{if(d.length>0||l.length>0||n.length>0){const s=[];if(d.forEach(a=>{s.push({id:a.id,type:"leave",title:"طلب إجازة",message:`${a.status==="pending"?"قيد الانتظار":a.status==="approved"?"تمت الموافقة على":"تم رفض"} طلب الإجازة من ${new Date(a.startDate).toLocaleDateString("ar-SA")} إلى ${new Date(a.endDate).toLocaleDateString("ar-SA")}`,status:a.status,timestamp:new Date(a.createdAt)})}),l.length>0&&s.push({id:"pending-orders-"+Date.now(),type:"order",title:"طلبات عملاء قيد الانتظار",message:`هناك ${l.length} طلب من العملاء بانتظار المعالجة`,timestamp:new Date,actionLink:"/employee/orders"}),n.length>0&&s.push({id:"kitchen-orders-"+Date.now(),type:"kitchen",title:"طلبات المطبخ",message:`هناك ${n.length} طلب في المطبخ بحاجة إلى تحضير`,timestamp:new Date,actionLink:"/employee/kitchen"}),t?.role==="manager"||t?.role==="admin"||t?.role==="owner"){const a=l.length+n.length;a>0&&s.push({id:"manager-alert-"+Date.now(),type:"manager",title:"تنبيه لوحة التحكم",message:`لديك ${a} طلب يحتاج متابعة في النظام`,timestamp:new Date,actionLink:"/manager/dashboard"})}z(s)}else z([])},[d,l,n,t?.role]);const Z=async s=>{try{const N=await(await ce(async()=>{const{default:L}=await import("./index-CLvpp2UE.js").then(te=>te.b);return{default:L}},__vite__mapDeps([0,1,2,3,4,5]))).default.toDataURL(s,{width:200,margin:1,color:{dark:"#000000",light:"#FFFFFF"}});w(N)}catch(a){console.error("QR generation error:",a)}},G=()=>{localStorage.removeItem("currentEmployee"),r("/employee/gateway")},X=async()=>{if(S.current)try{const s=await he(S.current,{backgroundColor:"#1a1410",scale:2}),a=document.createElement("a");a.download=`employee-card-${t?.username}.png`,a.href=s.toDataURL(),a.click()}catch(s){console.error("Error downloading card:",s)}};if(g&&!t)return e.jsx("div",{dir:"rtl",className:"min-h-screen bg-background flex items-center justify-center",children:e.jsx(ie,{message:"جاري تحميل البيانات..."})});if(!t)return null;const ee=s=>{switch(s){case"owner":return"صاحب الكافيه";case"admin":return"مدير النظام";case"manager":return"مدير فرع";case"driver":return"سائق";default:return"كاشير"}},se=s=>{switch(s){case"owner":return"destructive";case"admin":return"secondary";case"manager":return"default";case"driver":return"outline";default:return"secondary"}},f=ee(t.role||"cashier");return se(t.role||"cashier"),e.jsxs("div",{dir:"rtl",className:"flex h-screen bg-background",children:[e.jsx(ye,{employee:t,onLogout:G}),e.jsx("main",{className:"flex-1 overflow-auto",children:e.jsx("div",{className:"min-h-screen bg-background p-6",children:e.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"لوحة تحكم الموظف"}),e.jsxs("h2",{className:"text-primary mt-1",children:["أهلاً ",t?.fullName]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(ne,{defaultValue:"profile",className:"w-full",children:[e.jsxs(de,{className:"grid w-full grid-cols-2 bg-muted",children:[e.jsxs(M,{value:"profile","data-testid":"tab-profile",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[e.jsx(u,{className:"w-4 h-4 ml-2"}),"الملف الشخصي"]}),e.jsxs(M,{value:"card","data-testid":"tab-card",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[e.jsx(Ne,{className:"w-4 h-4 ml-2"}),"بطاقة الموظف"]})]}),e.jsx(B,{value:"profile",children:e.jsxs(p,{className:"border-border",children:[e.jsx("div",{className:"h-24 bg-primary/20"}),e.jsx(j,{className:"pt-0 -mt-12",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-24 h-24 bg-primary rounded-full flex items-center justify-center border-4 border-background mb-4",children:e.jsx(u,{className:"w-12 h-12 text-primary-foreground"})}),e.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2 text-center","data-testid":"text-employee-name",children:t.fullName}),e.jsx(y,{className:"bg-[#B58B5A] text-white hover:bg-[#B58B5A]/90 mb-2 border-none","data-testid":"badge-role",children:f}),t.jobTitle&&e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(pe,{className:"w-4 h-4 text-[#B58B5A]"}),e.jsx("span",{className:"text-muted-foreground","data-testid":"text-title",children:t.jobTitle})]}),e.jsxs("div",{className:"text-center text-muted-foreground text-sm",children:[e.jsxs("p",{children:["معرف الموظف: ",t.id?.slice(0,8)||"غير متوفر"]}),e.jsxs("p",{className:"mt-1",children:["اسم المستخدم: ",t.username]})]})]})})]})}),e.jsx(B,{value:"card",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(p,{children:e.jsxs(j,{className:"pt-6",children:[e.jsx("p",{className:"text-primary text-sm font-bold mb-2 block",children:"معلومات البطاقة الثابتة:"}),e.jsx("p",{className:"text-muted-foreground text-xs mb-3",children:"QR الكود الموجود على البطاقة ثابت طول العمر ولا يتغير أبداً. المسح التلقائي للبطاقة يسجل دخول الموظف مباشرة."}),e.jsxs("div",{className:"bg-muted border border-border rounded p-3 mt-3",children:[e.jsx("p",{className:"text-primary font-bold text-center text-lg",children:t?.id?.slice(0,8)||"N/A"}),e.jsx("p",{className:"text-muted-foreground text-xs text-center mt-1",children:"معرّف الموظف (Employee ID)"})]})]})}),e.jsxs("div",{ref:S,className:"space-y-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-primary/15 via-secondary to-accent/10 border-4 border-primary/40 rounded-2xl overflow-hidden shadow-2xl relative","data-testid":"employee-card-front",children:[e.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-br from-primary to-accent opacity-20 rounded-bl-3xl pointer-events-none"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-20 h-20 bg-gradient-to-tr from-accent to-primary opacity-15 rounded-tr-3xl pointer-events-none"}),e.jsxs("div",{className:"bg-gradient-to-r from-primary via-primary to-primary/80 p-6 relative",children:[e.jsxs("div",{className:"flex items-center justify-center gap-4 mb-2",children:[e.jsx("div",{className:"w-20 h-20 flex items-center justify-center shadow-lg rounded-lg",children:e.jsx("img",{src:P,alt:"CLUNY SYSTEMS Logo",className:"w-full h-full object-contain rounded-lg"})}),e.jsxs("div",{className:"text-white text-right",children:[e.jsx("h3",{className:"text-2xl font-bold",children:"CLUNY SYSTEMS"}),e.jsx("p",{className:"text-white/80 text-xs",children:"Staff Portal"})]})]}),e.jsx("div",{className:"absolute top-2 left-4 text-white/20",children:e.jsx(b,{className:"w-8 h-8 opacity-40"})})]}),e.jsxs("div",{className:"p-8 relative",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-8 items-center",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[t.imageUrl?e.jsx("img",{src:t.imageUrl,alt:t.fullName,className:"w-32 h-32 rounded-full object-cover border-4 border-primary/40 shadow-lg"}):e.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-primary to-primary/70 rounded-full flex items-center justify-center shadow-lg border-4 border-primary/30",children:e.jsx(u,{className:"w-16 h-16 text-white"})}),e.jsxs("div",{className:"mt-3 text-center",children:[e.jsx("p",{className:"text-primary font-semibold text-xs font-bold",children:"بطاقة رسمية"}),e.jsx("p",{className:"text-primary/60 text-xs",children:"Official Card"})]})]}),e.jsxs("div",{className:"text-center space-y-3 border-r-2 border-l-2 border-primary/20 px-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-primary/90",children:t.fullName}),e.jsx("p",{className:"text-primary/70 text-sm mt-1 font-semibold",children:t.jobTitle||f})]}),e.jsx("div",{className:"flex justify-center gap-2",children:e.jsx(y,{className:"bg-gradient-to-r from-accent to-accent/80 text-white text-xs",children:f})}),e.jsxs("div",{className:"space-y-1 text-xs",children:[e.jsxs("p",{className:"text-primary/80",children:[e.jsx("span",{className:"font-bold",children:"ID:"})," ",t.id?.slice(0,8)||"N/A"]}),e.jsx("p",{className:"text-primary/70 font-mono",children:t.username})]})]}),e.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[e.jsx("div",{className:"bg-white p-3 rounded-xl shadow-md border-2 border-primary/30",children:m?e.jsx("img",{src:m,alt:"QR Code","data-testid":"img-qr-code",className:"w-32 h-32"}):e.jsx("div",{className:"w-32 h-32 bg-gray-200 flex items-center justify-center rounded",children:e.jsx("p",{className:"text-xs text-gray-500",children:"جاري التحميل..."})})}),e.jsx("p",{className:"text-primary font-semibold text-xs font-bold",children:"امسح لتسجيل الدخول"}),e.jsx("p",{className:"text-primary/60 text-xs",children:"Scan Login"})]})]}),e.jsxs("div",{className:"mt-8 pt-6 border-t-2 border-primary/20 grid grid-cols-3 gap-4 text-center text-xs",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-primary/70 font-bold",children:"الهاتف"}),e.jsx("p",{className:"text-primary/90 font-mono text-sm",children:t.phone||"N/A"})]}),e.jsxs("div",{className:"space-y-1 border-r border-l border-primary/20",children:[e.jsx("p",{className:"text-primary/70 font-bold",children:"الدور"}),e.jsx("p",{className:"text-primary/90 font-semibold",children:f})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-primary/70 font-bold",children:"الحالة"}),e.jsx("p",{className:`font-bold ${t.isActivated?"text-green-700":"text-red-600"}`,children:t.isActivated?"نشط":"معطّل"})]})]})]}),e.jsx("div",{className:"h-1 bg-gradient-to-r from-primary via-accent to-primary"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-primary/15 via-secondary to-accent/10 border-4 border-primary/40 rounded-2xl overflow-hidden shadow-2xl p-8 relative","data-testid":"employee-card-back",children:[e.jsx("div",{className:"absolute top-4 right-4 text-primary opacity-20 pointer-events-none",children:e.jsx(b,{className:"w-12 h-12 opacity-30"})}),e.jsxs("div",{className:"max-w-2xl mx-auto space-y-6 relative",children:[e.jsxs("div",{className:"text-center space-y-2 mb-6",children:[e.jsx("h3",{className:"text-primary/90 text-lg font-bold",children:"شروط الاستخدام"}),e.jsx("p",{className:"text-primary/60 text-xs",children:"Terms of Use"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2 text-right",children:[e.jsx("h4",{className:"text-primary/90 font-bold text-sm flex items-center justify-end gap-2",children:e.jsx("span",{children:"المسؤوليات"})}),e.jsxs("ul",{className:"text-primary/80 text-xs space-y-1 leading-relaxed",children:[e.jsx("li",{children:"• استقبال الطلبات"}),e.jsx("li",{children:"• معالجة الدفعات"}),e.jsx("li",{children:"• إدارة الجودة"}),e.jsx("li",{children:"• خدمة العملاء"})]})]}),e.jsxs("div",{className:"space-y-2 text-right",children:[e.jsx("h4",{className:"text-primary/90 font-bold text-sm flex items-center justify-end gap-2",children:e.jsx("span",{children:"المزايا"})}),e.jsxs("ul",{className:"text-primary/80 text-xs space-y-1 leading-relaxed",children:[e.jsx("li",{children:"- بطاقة تعريف رسمية"}),e.jsx("li",{children:"- نسبة عمولة عادلة"}),e.jsx("li",{children:"- دعم فني 24/7"}),e.jsx("li",{children:"- بيئة عمل محترفة"})]})]})]}),e.jsxs("div",{className:"border-t-2 border-primary/20 pt-6 mt-6 space-y-2 text-right",children:[e.jsxs("p",{className:"text-primary/90 text-xs",children:[e.jsx("span",{className:"font-bold",children:"الموقع:"})," cluny.ma3k.online"]}),e.jsx("p",{className:"text-primary/60 text-xs",children:"جميع الحقوق محفوظة © 2025"})]})]})]})]}),e.jsxs(i,{onClick:X,className:"w-full",size:"lg","data-testid":"button-download-card",children:[e.jsx(oe,{className:"w-5 h-5 ml-2"}),"تحميل بطاقة الموظف (كارت الموظف)"]})]})})]})}),e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(p,{children:[e.jsx(E,{children:e.jsx(A,{className:"text-primary text-right",children:"الخدمات المتاحة"})}),e.jsxs(j,{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(i,{size:"lg",className:"h-32 flex flex-col items-center justify-center gap-3",onClick:()=>r("/employee/cashier"),"data-testid":"button-cashier",children:[e.jsx(D,{className:"w-10 h-10"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold text-lg",children:"نظام الكاشير"}),e.jsx("div",{className:"text-sm opacity-90",children:"للكاشير المتنقل"})]})]}),e.jsxs(i,{size:"lg",variant:"secondary",className:"h-32 flex flex-col items-center justify-center gap-3",onClick:()=>r("/employee/pos"),"data-testid":"button-pos-system",children:[e.jsx(Y,{className:"w-10 h-10"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold text-lg",children:"نظام نقاط البيع"}),e.jsx("div",{className:"text-sm opacity-90",children:"POS "})]})]}),e.jsxs(i,{size:"lg",variant:"outline",className:"h-32 flex flex-col items-center justify-center gap-3",onClick:()=>r("/employee/orders"),"data-testid":"button-orders",children:[e.jsx(q,{className:"w-10 h-10"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold text-lg",children:"إدارة الطلبات"}),e.jsx("div",{className:"text-sm opacity-90",children:"عرض وتحديث الطلبات"})]})]}),e.jsxs(i,{size:"lg",className:"h-32 flex flex-col items-center justify-center gap-3",onClick:()=>r("/employee/orders-display"),"data-testid":"button-orders-display",children:[e.jsx(Y,{className:"w-10 h-10"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold text-lg",children:"عرض الطلبات"}),e.jsx("div",{className:"text-sm opacity-90",children:"شاشة عرض الطلبات الحية"})]})]}),e.jsxs(i,{size:"lg",variant:"secondary",className:"h-32 flex flex-col items-center justify-center gap-3",onClick:()=>r("/employee/kitchen"),"data-testid":"button-kitchen-display",children:[e.jsx(R,{className:"w-10 h-10"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold text-lg",children:"شاشة المطبخ"}),e.jsx("div",{className:"text-sm opacity-90",children:"متابعة وتحضير الطلبات"})]})]}),e.jsxs(i,{size:"lg",variant:"outline",className:"h-32 flex flex-col items-center justify-center gap-3",onClick:()=>r("/employee/attendance"),"data-testid":"button-attendance",children:[e.jsx($,{className:"w-10 h-10"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold text-lg",children:"الحضور والانصراف"}),e.jsx("div",{className:"text-sm opacity-90",children:"نظام الحضور و الانصراف"})]})]}),e.jsxs(i,{size:"lg",className:"h-32 flex flex-col items-center justify-center gap-3",onClick:()=>r("/employee/menu-management"),"data-testid":"button-menu-management",children:[e.jsx(I,{className:"w-10 h-10"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold text-lg",children:"إدارة المشروبات"}),e.jsx("div",{className:"text-sm opacity-90",children:"تحديث حالة التوفر"})]})]}),e.jsxs(i,{size:"lg",variant:"secondary",className:"h-32 flex flex-col items-center justify-center gap-3",onClick:()=>r("/employee/table-orders"),"data-testid":"button-table-orders",children:[e.jsx(b,{className:"w-10 h-10"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold text-lg",children:"طلبات الطاولات"}),e.jsx("div",{className:"text-sm opacity-90",children:"استلام وإدارة طلبات الطاولات"})]})]}),e.jsxs(i,{size:"lg",variant:"outline",className:"h-32 flex flex-col items-center justify-center gap-3",onClick:()=>r("/employee/tables"),"data-testid":"button-tables",children:[e.jsx(V,{className:"w-10 h-10"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold text-lg",children:"تخصيص الطاولات"}),e.jsx("div",{className:"text-sm opacity-90",children:"حجز طاولة لعميل"})]})]}),(t.role==="manager"||t.role==="owner"||t.role==="admin")&&e.jsxs(e.Fragment,{children:[e.jsxs(i,{size:"lg",className:"h-32 flex flex-col items-center justify-center gap-3",onClick:()=>r("/manager/dashboard"),"data-testid":"button-manager-dashboard",children:[e.jsx(v,{className:"w-10 h-10"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold text-lg",children:"لوحة التحكم"}),e.jsx("div",{className:"text-sm opacity-90",children:"إحصائيات شاملة"})]})]}),e.jsxs(i,{size:"lg",variant:"secondary",className:"h-32 flex flex-col items-center justify-center gap-3",onClick:()=>r("/admin/settings"),"data-testid":"button-admin-settings",children:[e.jsx(I,{className:"w-10 h-10 text-accent"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold text-lg",children:"إدارة النظام"}),e.jsx("div",{className:"text-sm opacity-90",children:"تخصيص كامل للهوية"})]})]}),e.jsxs(i,{size:"lg",variant:"outline",className:"h-32 flex flex-col items-center justify-center gap-3",onClick:()=>r("/manager/employees"),"data-testid":"button-manager-employees",children:[e.jsx(u,{className:"w-10 h-10"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold text-lg",children:"إدارة الموظفين"}),e.jsx("div",{className:"text-sm opacity-90",children:"إضافة وتعديل الموظفين"})]})]}),e.jsxs(i,{size:"lg",variant:"outline",className:"h-32 flex flex-col items-center justify-center gap-3",onClick:()=>r("/manager/accounting"),"data-testid":"button-accounting",children:[e.jsx(O,{className:"w-10 h-10"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold text-lg",children:"المحاسبة والفواتير"}),e.jsx("div",{className:"text-sm opacity-90",children:"إدارة المصروفات والإيرادات"})]})]}),e.jsxs(i,{size:"lg",variant:"secondary",className:"h-32 flex flex-col items-center justify-center gap-3",onClick:()=>r("/manager/inventory"),"data-testid":"button-inventory",children:[e.jsx(Q,{className:"w-10 h-10"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold text-lg",children:"إدارة المخزون"}),e.jsx("div",{className:"text-sm opacity-90",children:"المواد الخام والوصفات"})]})]}),e.jsxs(i,{size:"lg",variant:"outline",className:"h-32 flex flex-col items-center justify-center gap-3",onClick:()=>r("/menu-view"),"data-testid":"button-menu-view",children:[e.jsx(je,{className:"w-10 h-10"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold text-lg",children:"عرض المنيو"}),e.jsx("div",{className:"text-sm opacity-90",children:"شاشات العرض والتلفزيون"})]})]})]})]})]}),e.jsxs(p,{children:[e.jsx(E,{children:e.jsxs(A,{className:"text-primary text-right flex items-center gap-2 flex-wrap",children:[e.jsx(_,{className:"w-5 h-5"}),"الإشعارات والطلبات"]})}),e.jsxs(j,{children:[T.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(_,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3 opacity-50"}),e.jsx("p",{className:"text-muted-foreground",children:"لا توجد إشعارات أو طلبات جديدة"})]}):e.jsx("div",{className:"space-y-3",children:T.map(s=>e.jsx("div",{className:"border border-border rounded-lg p-4 bg-muted/30 hover:bg-muted/50 transition-colors cursor-pointer",onClick:()=>s.actionLink&&r(s.actionLink),"data-testid":`notification-${s.id}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[s.type==="leave"&&e.jsxs(e.Fragment,{children:[s.status==="approved"&&e.jsx(ue,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),s.status==="rejected"&&e.jsx(ge,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),s.status==="pending"&&e.jsx($,{className:"w-5 h-5 text-yellow-500 flex-shrink-0 mt-0.5"})]}),s.type==="order"&&e.jsx(D,{className:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5"}),s.type==="kitchen"&&e.jsx(R,{className:"w-5 h-5 text-orange-500 flex-shrink-0 mt-0.5"}),s.type==="manager"&&e.jsx(v,{className:"w-5 h-5 text-purple-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1 text-right",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap mb-1",children:[e.jsx("h3",{className:"font-bold text-primary",children:s.title}),s.status&&e.jsx(y,{variant:s.status==="approved"?"default":s.status==="rejected"?"destructive":"secondary",className:"text-xs","data-testid":`badge-status-${s.id}`,children:s.status==="approved"?"موافق عليه":s.status==="rejected"?"مرفوض":"قيد الانتظار"}),(s.type==="order"||s.type==="kitchen"||s.type==="manager")&&e.jsx(y,{variant:"outline",className:"text-xs bg-blue-50 dark:bg-blue-950",children:"جديد"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:s.message}),e.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(s.timestamp).toLocaleDateString("ar-SA",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}),s.actionLink&&e.jsx("p",{className:"text-xs text-primary mt-2 font-semibold",children:"انقر للذهاب إلى الصفحة →"})]})]})},s.id))}),d.some(s=>s.status==="pending")&&e.jsxs(i,{variant:"outline",onClick:()=>r("/employee/leave-request"),className:"w-full mt-4","data-testid":"button-view-leave-requests",children:[e.jsx(fe,{className:"w-4 h-4 ml-2"}),"عرض طلبات الجازة الكاملة"]})]})]}),e.jsxs(p,{children:[e.jsx(E,{children:e.jsxs(A,{className:"text-primary text-right flex items-center gap-2 flex-wrap",children:[e.jsx(me,{className:"w-5 h-5"}),"معلومات مهمة"]})}),e.jsxs(j,{className:"text-muted-foreground text-right space-y-2",children:[e.jsxs("p",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:"w-2 h-2 bg-primary rounded-full"}),"يمكنك استخدام نظام الكاشير لإضافة طلبات جديدة للعملاء"]}),e.jsxs("p",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"بطاقات الولاء تمنح خصم 10% تلقائي عند المسح"]}),e.jsxs("p",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"يتم إرسال الفاتورة تلقائياً للعميل عبر واتساب"]}),e.jsxs("p",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full"}),"يمكنك متابعة حالة الطلبات وتحديثها من صفحة إدارة الطلبات"]}),e.jsxs("p",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:"w-2 h-2 bg-primary rounded-full"}),"رمز QR الخاص بك يمكن استخدامه للتعريف أو تسجيل الحضور"]})]})]})]})]})]})})})]})}export{Pe as default};
