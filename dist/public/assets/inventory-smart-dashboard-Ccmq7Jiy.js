import{j as e}from"./vendor-ui-DJm-zmnP.js";import{a as l}from"./vendor-query-CX8ZYlKb.js";import{l as y,C as n,x as d,y as x,V as h,f as o,q as j,j as i}from"./index-CLvpp2UE.js";import{T as m,a as p,b as t,c as a,d as g,e as r}from"./table-DVDQb40v.js";import{C as v}from"./circle-alert-CfteRpPO.js";import{H as b}from"./history-CRTRvOXU.js";import"./vendor-react-Bzsngnqy.js";import"./vendor-utils-BKCsaWdX.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=y("CircleArrowDown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=y("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);function I(){const{data:u,isLoading:N}=l({queryKey:["/api/inventory/movements"]}),{data:c,isLoading:f}=l({queryKey:["/api/inventory/alerts"]});return e.jsxs("div",{className:"p-6 space-y-6 bg-background min-h-screen text-right",dir:"rtl",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"المخزون الذكي - حالة النظام"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(n,{children:[e.jsxs(d,{children:[e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(v,{className:"w-5 h-5 text-destructive"}),"تنبيهات المخزون المنخفض"]}),e.jsx(h,{children:"مواد خام وصلت للحد الأدنى وتحتاج لإعادة شراء"})]}),e.jsx(o,{children:f?e.jsx(j,{className:"animate-spin"}):e.jsxs(m,{children:[e.jsx(p,{children:e.jsxs(t,{children:[e.jsx(a,{className:"text-right",children:"المادة"}),e.jsx(a,{className:"text-right",children:"المتوفر"}),e.jsx(a,{className:"text-right",children:"الحد الأدنى"})]})}),e.jsxs(g,{children:[c?.map(s=>e.jsxs(t,{children:[e.jsx(r,{className:"font-medium",children:s.nameAr}),e.jsxs(r,{className:"text-destructive font-bold",children:[s.currentStock," ",s.unit]}),e.jsxs(r,{children:[s.minStockThreshold," ",s.unit]})]},s.id)),c?.length===0&&e.jsx(t,{children:e.jsx(r,{colSpan:3,className:"text-center p-4 text-muted-foreground",children:"لا يوجد تنبيهات حالياً"})})]})]})})]}),e.jsxs(n,{children:[e.jsxs(d,{children:[e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(b,{className:"w-5 h-5 text-primary"}),"آخر التحركات المخزنية"]}),e.jsx(h,{children:"سجل العمليات الأخيرة (توريد، خصم، هالك)"})]}),e.jsx(o,{children:N?e.jsx(j,{className:"animate-spin"}):e.jsxs(m,{children:[e.jsx(p,{children:e.jsxs(t,{children:[e.jsx(a,{className:"text-right",children:"النوع"}),e.jsx(a,{className:"text-right",children:"المادة"}),e.jsx(a,{className:"text-right",children:"الكمية"}),e.jsx(a,{className:"text-right",children:"الوقت"})]})}),e.jsx(g,{children:u?.map(s=>e.jsxs(t,{children:[e.jsx(r,{children:s.type==="in"?e.jsxs(i,{variant:"secondary",className:"bg-green-100 text-green-800",children:[e.jsx(w,{className:"w-3 h-3 ml-1"})," توريد"]}):s.type==="order_deduction"?e.jsxs(i,{variant:"outline",children:[e.jsx(C,{className:"w-3 h-3 ml-1"})," مبيعات"]}):e.jsx(i,{variant:"destructive",children:s.type})}),e.jsx(r,{children:s.ingredientId}),e.jsx(r,{dir:"ltr",children:s.quantity>0?`+${s.quantity}`:s.quantity}),e.jsx(r,{className:"text-xs",children:new Date(s.createdAt).toLocaleTimeString("ar-SA")})]},s.id))})]})})]})]})]})}export{I as default};
