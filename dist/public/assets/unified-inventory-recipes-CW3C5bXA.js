import{j as e}from"./vendor-ui-DJm-zmnP.js";import{r as o}from"./vendor-react-Bzsngnqy.js";import{a as T,b as pe}from"./vendor-query-CX8ZYlKb.js";import{c as Ne,e as ve,B as n,g as fe,N as Y,Y as be,I as p,ab as ye,ac as we,ad as b,j,aj as y,C as d,f as x,T as I,x as w,y as u,P as K,q as M,W as G,D as ke,E as Ce,F as Se,H as Te,L as g,K as Ie,i as Ae,v as Ee}from"./index-61RjstaY.js";import{P as J}from"./progress-C-g-xWdk.js";import{S as A,a as E,b as F,c as L,d as l}from"./select-BgcBxbEj.js";import{T as D,a as P,b as h,c as t,d as R,e as r}from"./table-B7L5kFC6.js";import{P as v}from"./package-equujGSd.js";import{R as Fe}from"./refresh-cw-DWvJTizr.js";import{C as Le}from"./chart-column-D4sTeF6j.js";import{C as B}from"./chef-hat-D6Gkp1MI.js";import{B as De}from"./bell-m_o6DJ54.js";import{H as O}from"./history-BiYVo1q8.js";import{D as Pe}from"./dollar-sign-B-fnJpJ6.js";import{E as Z}from"./eye-A6WRE6cq.js";import{S as _}from"./square-pen-ixcF0lYC.js";import{C as ee}from"./circle-check-C68tr6Vl.js";import{C as Re}from"./circle-x-D9GYVDcC.js";import{C as Be}from"./calculator-CQwEPkXh.js";import{D as se}from"./droplet-d_AT2ZHO.js";import{B as qe}from"./box-D5cByeO3.js";import"./vendor-utils-BKCsaWdX.js";import"./chevron-down-BsuQiE4E.js";const N={g:"جرام",kg:"كيلو",ml:"مل",l:"لتر",pcs:"قطعة",piece:"قطعة",box:"صندوق",bag:"كيس"},Q={coffee:{label:"قهوة",icon:Ae,color:"text-accent"},dairy:{label:"ألبان",icon:se,color:"text-blue-500"},packaging:{label:"تغليف",icon:qe,color:"text-muted-foreground"},sweetener:{label:"محليات",icon:se,color:"text-yellow-500"},other:{label:"أخرى",icon:v,color:"text-muted-foreground"}};function is(){const[,ae]=Ne(),{toast:U}=ve(),[re,te]=o.useState("overview"),[q,le]=o.useState(""),[H,ce]=o.useState("all"),[f,ne]=o.useState("all"),[ie,k]=o.useState(!1),[He,de]=o.useState(!1);o.useState(null),o.useState(null);const[c,m]=o.useState({nameAr:"",nameEn:"",sku:"",unit:"g",unitCost:"",currentStock:"",minStockThreshold:"",category:"other"}),{data:xe=[]}=T({queryKey:["/api/branches"]}),{data:W=[],isLoading:he}=T({queryKey:["/api/ingredients"]}),{data:oe=[],isLoading:me}=T({queryKey:["/api/recipes"]});T({queryKey:["/api/coffee-items"]});const z=pe({mutationFn:async s=>Ee("POST","/api/ingredients",s),onSuccess:()=>{Y.invalidateQueries({queryKey:["/api/ingredients"]}),k(!1),m({nameAr:"",nameEn:"",sku:"",unit:"g",unitCost:"",currentStock:"",minStockThreshold:"",category:"other"}),U({title:"تمت إضافة المادة بنجاح"})},onError:()=>{U({title:"فشل في إضافة المادة",variant:"destructive"})}}),je=()=>{z.mutate({...c,unitCost:parseFloat(c.unitCost)||0,currentStock:parseFloat(c.currentStock)||0,minStockThreshold:parseFloat(c.minStockThreshold)||0})},C=W.filter(s=>f==="all"?!0:s.branchId===f||!s.branchId),S=oe.filter(s=>f==="all"?!0:s.branchId===f||!s.branchId),X=C.filter(s=>{const a=s.nameAr.includes(q)||s.nameEn?.toLowerCase().includes(q.toLowerCase()),$=H==="all"||s.category===H;return a&&$}),i=C.filter(s=>s.currentStock<=s.minStockThreshold),ue=C.reduce((s,a)=>s+a.currentStock*a.unitCost,0),ge=S.filter(s=>s.isActive!==!1).length,V=s=>{const a=s.minStockThreshold>0?s.currentStock/(s.minStockThreshold*2)*100:100;return s.currentStock<=s.minStockThreshold?{status:"critical",color:"bg-red-500",text:"منخفض جداً",percentage:Math.min(a,100)}:s.currentStock<=s.minStockThreshold*1.5?{status:"warning",color:"bg-background0",text:"منخفض",percentage:Math.min(a,100)}:{status:"good",color:"bg-green-500",text:"جيد",percentage:Math.min(a,100)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-primary/5 to-yellow-50 dark:from-background dark:via-primary/5 dark:to-background",dir:"rtl",children:e.jsxs("div",{className:"container mx-auto p-4 md:p-6 max-w-7xl",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4 mb-6",children:[e.jsxs(n,{variant:"ghost",onClick:()=>ae("/employee/dashboard"),className:"text-accent dark:text-accent",children:[e.jsx(fe,{className:"w-4 h-4 ml-2"}),"العودة"]}),e.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-accent dark:text-accent flex items-center gap-2",children:[e.jsx(v,{className:"w-8 h-8"}),"إدارة المخزون والوصفات"]}),e.jsx("div",{className:"flex gap-2",children:e.jsx(n,{variant:"outline",size:"sm",onClick:()=>Y.invalidateQueries(),children:e.jsx(Fe,{className:"w-4 h-4"})})})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[e.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[e.jsx(be,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(p,{placeholder:"بحث في المواد...",value:q,onChange:s=>le(s.target.value),className:"pr-10"})]}),e.jsxs(A,{value:H,onValueChange:ce,children:[e.jsx(E,{className:"w-40",children:e.jsx(F,{placeholder:"الفئة"})}),e.jsxs(L,{children:[e.jsx(l,{value:"all",children:"جميع الفئات"}),e.jsx(l,{value:"coffee",children:"قهوة"}),e.jsx(l,{value:"dairy",children:"ألبان"}),e.jsx(l,{value:"packaging",children:"تغليف"}),e.jsx(l,{value:"sweetener",children:"محليات"}),e.jsx(l,{value:"other",children:"أخرى"})]})]}),e.jsxs(A,{value:f,onValueChange:ne,children:[e.jsx(E,{className:"w-48",children:e.jsx(F,{placeholder:"الفرع"})}),e.jsxs(L,{children:[e.jsx(l,{value:"all",children:"جميع الفروع"}),xe.map(s=>e.jsx(l,{value:s.id||"",children:s.nameAr},s.id))]})]})]}),e.jsxs(ye,{value:re,onValueChange:te,className:"space-y-6",children:[e.jsxs(we,{className:"grid w-full grid-cols-5 bg-primary dark:bg-primary/30",children:[e.jsxs(b,{value:"overview",className:"flex items-center gap-1",children:[e.jsx(Le,{className:"w-4 h-4"}),"نظرة عامة"]}),e.jsxs(b,{value:"ingredients",className:"flex items-center gap-1",children:[e.jsx(v,{className:"w-4 h-4"}),"المواد الخام"]}),e.jsxs(b,{value:"recipes",className:"flex items-center gap-1",children:[e.jsx(B,{className:"w-4 h-4"}),"الوصفات"]}),e.jsxs(b,{value:"alerts",className:"flex items-center gap-1",children:[e.jsx(De,{className:"w-4 h-4"}),"التنبيهات",i.length>0&&e.jsx(j,{variant:"destructive",className:"mr-1 h-5 w-5 p-0 flex items-center justify-center",children:i.length})]}),e.jsxs(b,{value:"movements",className:"flex items-center gap-1",children:[e.jsx(O,{className:"w-4 h-4"}),"الحركات"]})]}),e.jsxs(y,{value:"overview",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(d,{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white",children:e.jsx(x,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-100 text-sm",children:"إجمالي المواد"}),e.jsx("p",{className:"text-3xl font-bold mt-1",children:W.length}),e.jsx("p",{className:"text-blue-200 text-xs mt-1",children:"مادة خام"})]}),e.jsx(v,{className:"w-12 h-12 text-blue-200"})]})})}),e.jsx(d,{className:"bg-gradient-to-br from-green-500 to-green-600 text-white",children:e.jsx(x,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-green-100 text-sm",children:"قيمة المخزون"}),e.jsx("p",{className:"text-3xl font-bold mt-1",children:ue.toFixed(0)}),e.jsx("p",{className:"text-green-200 text-xs mt-1",children:"ريال سعودي"})]}),e.jsx(Pe,{className:"w-12 h-12 text-green-200"})]})})}),e.jsx(d,{className:"bg-gradient-to-br from-amber-500 to-amber-600 text-white",children:e.jsx(x,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-accent text-sm",children:"الوصفات النشطة"}),e.jsx("p",{className:"text-3xl font-bold mt-1",children:ge}),e.jsx("p",{className:"text-accent text-xs mt-1",children:"وصفة"})]}),e.jsx(B,{className:"w-12 h-12 text-accent"})]})})}),e.jsx(d,{className:`bg-gradient-to-br ${i.length>0?"from-red-500 to-red-600":"from-gray-500 to-gray-600"} text-white`,children:e.jsx(x,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`${i.length>0?"text-red-100":"text-gray-100"} text-sm`,children:"تنبيهات المخزون"}),e.jsx("p",{className:"text-3xl font-bold mt-1",children:i.length}),e.jsx("p",{className:`${i.length>0?"text-red-200":"text-gray-200"} text-xs mt-1`,children:"مادة منخفضة"})]}),e.jsx(I,{className:`w-12 h-12 ${i.length>0?"text-red-200":"text-gray-200"}`})]})})})]}),i.length>0&&e.jsxs(d,{className:"border-red-200 dark:border-red-800",children:[e.jsx(w,{children:e.jsxs(u,{className:"flex items-center gap-2 text-red-600",children:[e.jsx(I,{className:"w-5 h-5"}),"تنبيهات المخزون المنخفض"]})}),e.jsx(x,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.slice(0,6).map(s=>{const a=V(s);return e.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.nameAr}),e.jsx("p",{className:"text-sm text-muted-foreground",children:N[s.unit]||s.unit})]}),e.jsx(j,{variant:"destructive",className:"text-xs",children:a.text})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"الكمية الحالية"}),e.jsx("span",{className:"font-bold text-red-600",children:s.currentStock})]}),e.jsx(J,{value:a.percentage,className:"h-2"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["الحد الأدنى: ",s.minStockThreshold," ",N[s.unit]]})]})]},s.id)})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(d,{children:[e.jsx(w,{children:e.jsxs(u,{className:"flex items-center gap-2",children:[e.jsx(v,{className:"w-5 h-5 text-blue-600"}),"آخر المواد المضافة"]})}),e.jsx(x,{children:e.jsxs(D,{children:[e.jsx(P,{children:e.jsxs(h,{children:[e.jsx(t,{className:"text-right",children:"المادة"}),e.jsx(t,{className:"text-right",children:"الكمية"}),e.jsx(t,{className:"text-right",children:"التكلفة"})]})}),e.jsx(R,{children:C.slice(0,5).map(s=>e.jsxs(h,{children:[e.jsx(r,{className:"font-medium",children:s.nameAr}),e.jsxs(r,{children:[s.currentStock," ",N[s.unit]]}),e.jsxs(r,{children:[s.unitCost.toFixed(2)," ر.س"]})]},s.id))})]})})]}),e.jsxs(d,{children:[e.jsx(w,{children:e.jsxs(u,{className:"flex items-center gap-2",children:[e.jsx(B,{className:"w-5 h-5 text-accent"}),"الوصفات الأكثر استخداماً"]})}),e.jsx(x,{children:e.jsxs(D,{children:[e.jsx(P,{children:e.jsxs(h,{children:[e.jsx(t,{className:"text-right",children:"الوصفة"}),e.jsx(t,{className:"text-right",children:"المنتج"}),e.jsx(t,{className:"text-right",children:"التكلفة"})]})}),e.jsx(R,{children:S.slice(0,5).map(s=>e.jsxs(h,{children:[e.jsx(r,{className:"font-medium",children:s.nameAr}),e.jsx(r,{children:s.coffeeItemName||"-"}),e.jsxs(r,{children:[(s.totalCost||0).toFixed(2)," ر.س"]})]},s.id))})]})})]})]})]}),e.jsxs(y,{value:"ingredients",className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(u,{children:"قائمة المواد الخام"}),e.jsxs(n,{onClick:()=>k(!0),className:"bg-primary hover:bg-primary",children:[e.jsx(K,{className:"w-4 h-4 ml-2"}),"إضافة مادة جديدة"]})]}),e.jsx(d,{children:e.jsx(x,{className:"p-0",children:he?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(M,{className:"w-8 h-8 animate-spin text-accent"})}):e.jsxs(D,{children:[e.jsx(P,{children:e.jsxs(h,{children:[e.jsx(t,{className:"text-right",children:"المادة"}),e.jsx(t,{className:"text-right",children:"الفئة"}),e.jsx(t,{className:"text-right",children:"الوحدة"}),e.jsx(t,{className:"text-right",children:"التكلفة"}),e.jsx(t,{className:"text-right",children:"المخزون"}),e.jsx(t,{className:"text-right",children:"الحالة"}),e.jsx(t,{className:"text-right",children:"إجراءات"})]})}),e.jsxs(R,{children:[X.map(s=>{const a=V(s),$=Q[s.category||"other"]?.icon||v;return e.jsxs(h,{children:[e.jsx(r,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{className:`w-4 h-4 ${Q[s.category||"other"]?.color}`}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.nameAr}),s.nameEn&&e.jsx("p",{className:"text-xs text-muted-foreground",children:s.nameEn})]})]})}),e.jsx(r,{children:e.jsx(j,{variant:"outline",children:Q[s.category||"other"]?.label||"أخرى"})}),e.jsx(r,{children:N[s.unit]||s.unit}),e.jsxs(r,{children:[s.unitCost.toFixed(2)," ر.س"]}),e.jsx(r,{children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:a.status==="critical"?"text-red-600 font-bold":"",children:s.currentStock}),e.jsx(J,{value:a.percentage,className:"h-1.5 w-16"})]})}),e.jsx(r,{children:e.jsx(j,{variant:a.status==="critical"?"destructive":a.status==="warning"?"secondary":"default",children:a.text})}),e.jsx(r,{children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx(n,{variant:"ghost",size:"icon",className:"h-8 w-8",children:e.jsx(Z,{className:"w-4 h-4"})}),e.jsx(n,{variant:"ghost",size:"icon",className:"h-8 w-8",children:e.jsx(_,{className:"w-4 h-4"})})]})})]},s.id)}),X.length===0&&e.jsx(h,{children:e.jsx(r,{colSpan:7,className:"text-center text-muted-foreground py-8",children:"لا توجد مواد خام مطابقة للبحث"})})]})]})})})]}),e.jsxs(y,{value:"recipes",className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(u,{children:"قائمة الوصفات"}),e.jsxs(n,{onClick:()=>de(!0),className:"bg-primary hover:bg-primary",children:[e.jsx(K,{className:"w-4 h-4 ml-2"}),"إضافة وصفة جديدة"]})]}),e.jsx(d,{children:e.jsx(x,{className:"p-0",children:me?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(M,{className:"w-8 h-8 animate-spin text-accent"})}):e.jsxs(D,{children:[e.jsx(P,{children:e.jsxs(h,{children:[e.jsx(t,{className:"text-right",children:"الوصفة"}),e.jsx(t,{className:"text-right",children:"المنتج"}),e.jsx(t,{className:"text-right",children:"عدد المكونات"}),e.jsx(t,{className:"text-right",children:"التكلفة الإجمالية"}),e.jsx(t,{className:"text-right",children:"الحالة"}),e.jsx(t,{className:"text-right",children:"إجراءات"})]})}),e.jsxs(R,{children:[S.map(s=>e.jsxs(h,{children:[e.jsx(r,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{className:"w-4 h-4 text-accent"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.nameAr}),s.nameEn&&e.jsx("p",{className:"text-xs text-muted-foreground",children:s.nameEn})]})]})}),e.jsx(r,{children:s.coffeeItemName||"-"}),e.jsx(r,{children:e.jsxs(j,{variant:"outline",children:[s.ingredients?.length||0," مكون"]})}),e.jsxs(r,{className:"font-medium text-accent",children:[(s.totalCost||0).toFixed(2)," ر.س"]}),e.jsx(r,{children:s.isActive!==!1?e.jsxs(j,{variant:"default",className:"bg-green-500",children:[e.jsx(ee,{className:"w-3 h-3 ml-1"}),"نشط"]}):e.jsxs(j,{variant:"secondary",children:[e.jsx(Re,{className:"w-3 h-3 ml-1"}),"معطل"]})}),e.jsx(r,{children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx(n,{variant:"ghost",size:"icon",className:"h-8 w-8",children:e.jsx(Z,{className:"w-4 h-4"})}),e.jsx(n,{variant:"ghost",size:"icon",className:"h-8 w-8",children:e.jsx(_,{className:"w-4 h-4"})}),e.jsx(n,{variant:"ghost",size:"icon",className:"h-8 w-8",children:e.jsx(Be,{className:"w-4 h-4"})})]})})]},s.id)),S.length===0&&e.jsx(h,{children:e.jsx(r,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"لا توجد وصفات مسجلة"})})]})]})})})]}),e.jsx(y,{value:"alerts",className:"space-y-4",children:e.jsxs(d,{children:[e.jsxs(w,{children:[e.jsxs(u,{className:"flex items-center gap-2",children:[e.jsx(I,{className:"w-5 h-5 text-red-600"}),"تنبيهات المخزون المنخفض"]}),e.jsx(G,{children:"المواد التي تحتاج إعادة تموين"})]}),e.jsx(x,{children:i.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ee,{className:"w-16 h-16 mx-auto text-green-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-green-600",children:"جميع المواد بمستوى جيد"}),e.jsx("p",{className:"text-muted-foreground",children:"لا توجد تنبيهات حالياً"})]}):e.jsx("div",{className:"space-y-4",children:i.map(s=>{const a=V(s);return e.jsxs("div",{className:"flex items-center justify-between p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`p-3 rounded-full ${a.status==="critical"?"bg-red-100 dark:bg-red-900":"bg-primary dark:bg-primary"}`,children:e.jsx(I,{className:`w-6 h-6 ${a.status==="critical"?"text-red-600":"text-accent"}`})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.nameAr}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["الكمية الحالية: ",s.currentStock," ",N[s.unit]," | الحد الأدنى: ",s.minStockThreshold," ",N[s.unit]]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{variant:"destructive",children:a.text}),e.jsxs(n,{variant:"outline",size:"sm",children:[e.jsx(K,{className:"w-4 h-4 ml-1"}),"إضافة مخزون"]})]})]},s.id)})})})]})}),e.jsx(y,{value:"movements",className:"space-y-4",children:e.jsxs(d,{children:[e.jsxs(w,{children:[e.jsxs(u,{className:"flex items-center gap-2",children:[e.jsx(O,{className:"w-5 h-5 text-purple-600"}),"سجل حركات المخزون"]}),e.jsx(G,{children:"جميع عمليات الإضافة والصرف"})]}),e.jsx(x,{children:e.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[e.jsx(O,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"سجل الحركات سيظهر هنا"})]})})]})})]}),e.jsx(ke,{open:ie,onOpenChange:k,children:e.jsxs(Ce,{className:"max-w-md",children:[e.jsx(Se,{children:e.jsx(Te,{children:"إضافة مادة خام جديدة"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(g,{children:"الاسم بالعربي *"}),e.jsx(p,{value:c.nameAr,onChange:s=>m(a=>({...a,nameAr:s.target.value})),placeholder:"مثال: حليب"})]}),e.jsxs("div",{children:[e.jsx(g,{children:"الاسم بالإنجليزي"}),e.jsx(p,{value:c.nameEn,onChange:s=>m(a=>({...a,nameEn:s.target.value})),placeholder:"Milk"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(g,{children:"الفئة"}),e.jsxs(A,{value:c.category,onValueChange:s=>m(a=>({...a,category:s})),children:[e.jsx(E,{children:e.jsx(F,{})}),e.jsxs(L,{children:[e.jsx(l,{value:"coffee",children:"قهوة"}),e.jsx(l,{value:"dairy",children:"ألبان"}),e.jsx(l,{value:"sweetener",children:"محليات"}),e.jsx(l,{value:"packaging",children:"تغليف"}),e.jsx(l,{value:"other",children:"أخرى"})]})]})]}),e.jsxs("div",{children:[e.jsx(g,{children:"وحدة القياس"}),e.jsxs(A,{value:c.unit,onValueChange:s=>m(a=>({...a,unit:s})),children:[e.jsx(E,{children:e.jsx(F,{})}),e.jsxs(L,{children:[e.jsx(l,{value:"g",children:"جرام (g)"}),e.jsx(l,{value:"kg",children:"كيلو (kg)"}),e.jsx(l,{value:"ml",children:"مللي (ml)"}),e.jsx(l,{value:"l",children:"لتر (l)"}),e.jsx(l,{value:"pcs",children:"قطعة"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(g,{children:"تكلفة الوحدة"}),e.jsx(p,{type:"number",value:c.unitCost,onChange:s=>m(a=>({...a,unitCost:s.target.value})),placeholder:"0.00"})]}),e.jsxs("div",{children:[e.jsx(g,{children:"الكمية الحالية"}),e.jsx(p,{type:"number",value:c.currentStock,onChange:s=>m(a=>({...a,currentStock:s.target.value})),placeholder:"0"})]}),e.jsxs("div",{children:[e.jsx(g,{children:"الحد الأدنى"}),e.jsx(p,{type:"number",value:c.minStockThreshold,onChange:s=>m(a=>({...a,minStockThreshold:s.target.value})),placeholder:"0"})]})]})]}),e.jsxs(Ie,{children:[e.jsx(n,{variant:"outline",onClick:()=>k(!1),children:"إلغاء"}),e.jsx(n,{onClick:je,disabled:!c.nameAr||z.isPending,className:"bg-primary hover:bg-primary",children:z.isPending?e.jsx(M,{className:"w-4 h-4 animate-spin"}):"إضافة"})]})]})})]})})}export{is as default};
