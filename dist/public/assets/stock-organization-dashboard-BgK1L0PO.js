import{j as s}from"./vendor-ui-DJm-zmnP.js";import{r as m}from"./vendor-react-Bzsngnqy.js";import{a as o}from"./vendor-query-CX8ZYlKb.js";import{C as t,f as l,T as j,O as h,ab as p,ac as N,ad as r,aj as c,x as i,y as n,j as f,W as u}from"./index-61RjstaY.js";import{W as g}from"./warehouse-CvmXY72P.js";import{P as v}from"./package-equujGSd.js";import{T as y}from"./trending-up-CK4Nk2TF.js";import"./vendor-utils-BKCsaWdX.js";function W(){const[w,d]=m.useState(null),{data:a,isLoading:x}=o({queryKey:["/api/inventory/organization-stats"]});return x?s.jsx("div",{className:"container mx-auto p-6",children:s.jsx("div",{className:"text-center",children:"جاري التحميل..."})}):s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"تنظيم المخزون عبر الفروع"}),s.jsx("p",{className:"text-gray-500 mt-2",children:"مراقبة شاملة للمخزون والتوزيع في جميع الفروع"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsx(t,{children:s.jsx(l,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"عدد الفروع"}),s.jsx("p",{className:"text-2xl font-bold",children:a?.totalBranches||0})]}),s.jsx(g,{className:"w-8 h-8 text-blue-500 opacity-20"})]})})}),s.jsx(t,{children:s.jsx(l,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"عدد المنتجات"}),s.jsx("p",{className:"text-2xl font-bold",children:a?.totalSKUs||0})]}),s.jsx(v,{className:"w-8 h-8 text-green-500 opacity-20"})]})})}),s.jsx(t,{children:s.jsx(l,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"قيمة المخزون"}),s.jsx("p",{className:"text-2xl font-bold",children:a?.totalInventoryValue?`${Math.round(a.totalInventoryValue)}`:"0"})]}),s.jsx(y,{className:"w-8 h-8 text-purple-500 opacity-20"})]})})}),s.jsx(t,{children:s.jsx(l,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"مخزون ناقص"}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:a?.lowStockItems||0})]}),s.jsx(j,{className:"w-8 h-8 text-red-500 opacity-20"})]})})}),s.jsx(t,{children:s.jsx(l,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"تحويلات قيد الانتظار"}),s.jsx("p",{className:"text-2xl font-bold text-orange-600",children:a?.pendingTransfers||0})]}),s.jsx(h,{className:"w-8 h-8 text-orange-500 opacity-20"})]})})})]}),s.jsxs(p,{defaultValue:"overview",className:"w-full",children:[s.jsxs(N,{className:"grid w-full grid-cols-2",children:[s.jsx(r,{value:"overview",children:"نظرة عامة"}),s.jsx(r,{value:"transfers",children:"التحويلات"})]}),s.jsx(c,{value:"overview",className:"space-y-4",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a?.branches.map(e=>s.jsxs(t,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>d(e.branchId),children:[s.jsxs(i,{className:"pb-3",children:[s.jsx(n,{className:"text-lg",children:e.branchName}),e.lowStockItems>0&&s.jsxs(f,{variant:"destructive",className:"w-fit",children:[e.lowStockItems," منتج ناقص"]})]}),s.jsxs(l,{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"عدد المنتجات:"}),s.jsx("span",{className:"font-semibold",children:e.totalItems})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"قيمة المخزون:"}),s.jsx("span",{className:"font-semibold",children:Math.round(e.totalValue)})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"التحويلات الحديثة:"}),s.jsx("span",{className:"font-semibold",children:e.recentTransfers})]})]})]},e.branchId))})}),s.jsx(c,{value:"transfers",children:s.jsxs(t,{children:[s.jsxs(i,{children:[s.jsx(n,{children:"التحويلات الفعلية"}),s.jsx(u,{children:"لعرض التحويلات الفعلية، اذهب إلى صفحة إدارة التحويلات"})]}),s.jsx(l,{children:s.jsx("p",{className:"text-gray-600",children:"يمكنك إدارة التحويلات بين الفروع من خلال قسم المشتريات والنقل"})})]})})]})]})}export{W as default};
