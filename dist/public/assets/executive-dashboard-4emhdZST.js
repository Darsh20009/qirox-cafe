import{j as e}from"./vendor-ui-DJm-zmnP.js";import{r as L}from"./vendor-react-Bzsngnqy.js";import{l as re,c as ae,a6 as le,S as de,B as j,af as ce,j as O,_ as oe,$ as ne,C as u,x as p,y as g,f as b,a1 as ie,i as me,r as xe}from"./index-61RjstaY.js";import{a as T}from"./vendor-query-CX8ZYlKb.js";import{S as he,a as ue,b as pe,c as ge,d as w}from"./select-BgcBxbEj.js";import{C as be}from"./calendar-Cex3TfGh.js";import{S as je}from"./settings-CgStpNg9.js";import{D as F}from"./dollar-sign-B-fnJpJ6.js";import{T as U}from"./trending-up-CK4Nk2TF.js";import{A as Y}from"./activity-D65WL5FX.js";import{T as fe}from"./target-CfPXIUdG.js";import{C as G}from"./chart-column-D4sTeF6j.js";import{R as k,C as R,X as P,Y as M,T as A,a as Ne,L as ve,B as q,N as H}from"./BarChart-C-BXurcz.js";import{A as ye,a as we}from"./AreaChart-EwIn2y1e.js";import{P as ke,a as Ae}from"./PieChart-CcImm4lT.js";import{A as Se}from"./award-DlCxYbR1.js";import{B as V}from"./building-2-CFAXDCAw.js";import{U as W}from"./users-Btf_-tK9.js";import{T as Ce}from"./trending-down-3gb6g0y8.js";import{B as De}from"./briefcase-FcHUEvv3.js";import{U as Ee}from"./user-check-BVc66REz.js";import{P as Le}from"./package-equujGSd.js";import{C as Oe}from"./chef-hat-D6Gkp1MI.js";import{F as Te}from"./file-text-tC1Q1Af5.js";import"./vendor-utils-BKCsaWdX.js";import"./chevron-down-BsuQiE4E.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=re("GitCompare",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]]);function ot(){const[,n]=ae(),[f,_]=L.useState(null),[h,X]=L.useState("month");L.useEffect(()=>{const t=localStorage.getItem("currentEmployee");if(t){const s=JSON.parse(t);if(s.role!=="manager"&&s.role!=="admin"&&s.role!=="owner"){n("/employee/dashboard");return}_(s)}else n("/manager/login")},[n]);const{data:S=[]}=T({queryKey:["/api/orders"],enabled:!!f,refetchInterval:3e4}),{data:N=[]}=T({queryKey:["/api/employees"],enabled:!!f}),{data:B=[]}=T({queryKey:["/api/branches"],enabled:!!f});if(!f)return e.jsx(le,{message:"جاري التحميل..."});const i=(()=>{const t=new Date;return S.filter(s=>{if(!s.createdAt)return h==="year";const a=new Date(s.createdAt);if(isNaN(a.getTime()))return!1;switch(h){case"today":return a.toDateString()===t.toDateString();case"week":const r=new Date(t.getTime()-7*24*60*60*1e3);return a>=r;case"month":const d=new Date(t.getTime()-30*24*60*60*1e3);return a>=d;case"year":const o=new Date(t.getTime()-365*24*60*60*1e3);return a>=o;default:return!0}})})(),C=i.reduce((t,s)=>t+Number(s.totalAmount||0),0),J=i.filter(t=>t.status==="completed").reduce((t,s)=>t+Number(s.totalAmount||0),0),Q=i.length>0?C/i.length:0,I=S.filter(t=>t.createdAt?new Date(t.createdAt).toDateString()===new Date().toDateString():!1),Z=I.reduce((t,s)=>t+Number(s.totalAmount||0),0),ee=(()=>{const t={};return i.forEach(s=>{if(!s.createdAt)return;const a=new Date(s.createdAt);if(isNaN(a.getTime()))return;const r=a.toLocaleDateString("ar-SA",{month:"short",day:"numeric"});t[r]||(t[r]={revenue:0,orders:0}),t[r].revenue+=Number(s.totalAmount||0),t[r].orders+=1}),Object.entries(t).map(([s,a])=>({date:s,...a})).slice(-14)})(),K=(()=>{const t={};return i.forEach(s=>{const a=s.paymentMethod==="cash"?"نقدي":s.paymentMethod==="card"?"بطاقة":s.paymentMethod==="mada"?"مدى":s.paymentMethod;t[a]=(t[a]||0)+Number(s.totalAmount||0)}),Object.entries(t).map(([s,a])=>({name:s,value:Number(a.toFixed(2))}))})(),$=(()=>{const t={};return i.forEach(s=>{(Array.isArray(s.items)?s.items:[]).forEach(r=>{const d=r.coffeeItem?.nameAr||r.nameAr||"منتج";t[d]||(t[d]={count:0,revenue:0}),t[d].count+=r.quantity||1,t[d].revenue+=(r.quantity||1)*Number(r.price||0)})}),Object.entries(t).map(([s,a])=>({name:s,...a})).sort((s,a)=>a.revenue-s.revenue).slice(0,5)})(),z=["#D4AF37","#2D3748","#38A169","#E53E3E","#805AD5"],D=(()=>{const t={},a=(()=>{const r=new Date;return S.filter(d=>{if(!d.createdAt)return!1;const o=new Date(d.createdAt);if(isNaN(o.getTime()))return!1;switch(h){case"today":const l=new Date(r.getTime()-864e5);return o.toDateString()===l.toDateString();case"week":const c=new Date(r.getTime()-14*24*60*60*1e3),v=new Date(r.getTime()-7*24*60*60*1e3);return o>=c&&o<v;case"month":const E=new Date(r.getTime()-60*24*60*60*1e3),m=new Date(r.getTime()-30*24*60*60*1e3);return o>=E&&o<m;case"year":const y=new Date(r.getTime()-730*24*60*60*1e3),se=new Date(r.getTime()-365*24*60*60*1e3);return o>=y&&o<se;default:return!1}})})();return B.forEach(r=>{const d=i.filter(m=>m.branchId===r.id),o=a.filter(m=>m.branchId===r.id),l=d.reduce((m,y)=>m+Number(y.totalAmount||0),0),c=o.reduce((m,y)=>m+Number(y.totalAmount||0),0),v=d.length,E=c>0?(l-c)/c*100:0;t[r.id]={name:r.name||r.nameAr||"فرع",revenue:l,orders:v,avgOrder:v>0?l/v:0,growth:E,previousRevenue:c}}),Object.values(t).sort((r,d)=>d.revenue-r.revenue)})(),x=(()=>{const t={},s={cashier:4500,barista:4e3,manager:8e3,admin:1e4,owner:0,driver:3500,kitchen:4e3,waiter:3800};N.forEach(l=>{const c=l.role||"other";t[c]||(t[c]={count:0,costEstimate:0}),t[c].count+=1,t[c].costEstimate+=s[c]||3500});const a=Object.values(t).reduce((l,c)=>l+c.costEstimate,0),d=C/(h==="today"?1:h==="week"?7:h==="month"?30:365)*30,o=d>0?a/d*100:0;return{byRole:Object.entries(t).map(([l,c])=>({role:l==="cashier"?"كاشير":l==="barista"?"باريستا":l==="manager"?"مدير":l==="admin"?"مشرف":l==="driver"?"سائق":l==="kitchen"?"مطبخ":l==="waiter"?"نادل":l,...c})),totalCost:a,laborPercent:o,projectedMonthlyRevenue:d,totalEmployees:N.length,avgCostPerEmployee:N.length>0?a/N.length:0,isMonthlyEstimate:!0}})(),te=()=>{localStorage.removeItem("currentEmployee"),n("/employee/gateway")};return e.jsxs("div",{className:"min-h-screen bg-background",dir:"rtl",children:[e.jsx("div",{className:"header-gold px-6 py-4 border-b border-sidebar-border",children:e.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-amber-400 to-amber-600 flex items-center justify-center shadow-lg",children:e.jsx(de,{className:"w-6 h-6 text-slate-900"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold text-accent title-executive",children:"CLUNY CAFE Enterprise"}),e.jsxs("p",{className:"text-sm text-slate-400",children:["مرحباً، ",f.fullName]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(he,{value:h,onValueChange:t=>X(t),children:[e.jsxs(ue,{className:"w-36 bg-sidebar-accent border-sidebar-border text-sidebar-foreground",children:[e.jsx(be,{className:"w-4 h-4 ml-2"}),e.jsx(pe,{})]}),e.jsxs(ge,{children:[e.jsx(w,{value:"today",children:"اليوم"}),e.jsx(w,{value:"week",children:"هذا الأسبوع"}),e.jsx(w,{value:"month",children:"هذا الشهر"}),e.jsx(w,{value:"year",children:"هذا العام"})]})]}),e.jsx(j,{variant:"ghost",size:"icon",onClick:()=>n("/manager/dashboard"),className:"text-sidebar-foreground hover:bg-sidebar-accent",children:e.jsx(je,{className:"w-5 h-5"})}),e.jsx(j,{variant:"ghost",size:"icon",onClick:te,className:"text-sidebar-foreground hover:bg-sidebar-accent",children:e.jsx(ce,{className:"w-5 h-5"})})]})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[e.jsxs("div",{className:"dashboard-grid",children:[e.jsxs("div",{className:"kpi-card card-hover",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-amber-400 to-background0 flex items-center justify-center",children:e.jsx(F,{className:"w-5 h-5 text-slate-900"})}),e.jsxs(O,{className:"badge-premium badge-gold",children:[e.jsx(U,{className:"w-3 h-3"}),"+12.5%"]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"إجمالي الإيرادات"}),e.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[C.toLocaleString("ar-SA")," ",e.jsx("span",{className:"text-sm font-normal",children:"ر.س"})]})]}),e.jsxs("div",{className:"kpi-card card-hover",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-emerald-400 to-emerald-500 flex items-center justify-center",children:e.jsx(oe,{className:"w-5 h-5 text-white"})}),e.jsxs(O,{className:"badge-premium badge-success",children:[e.jsx(Y,{className:"w-3 h-3"}),"مكتمل"]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"الإيرادات المحصلة"}),e.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[J.toLocaleString("ar-SA")," ",e.jsx("span",{className:"text-sm font-normal",children:"ر.س"})]})]}),e.jsxs("div",{className:"kpi-card card-hover",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-400 to-blue-500 flex items-center justify-center",children:e.jsx(ne,{className:"w-5 h-5 text-white"})})}),e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"عدد الطلبات"}),e.jsx("p",{className:"text-2xl font-bold text-foreground",children:i.length.toLocaleString("ar-SA")})]}),e.jsxs("div",{className:"kpi-card card-hover",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-purple-400 to-purple-500 flex items-center justify-center",children:e.jsx(fe,{className:"w-5 h-5 text-white"})})}),e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"متوسط قيمة الطلب"}),e.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[Q.toFixed(0)," ",e.jsx("span",{className:"text-sm font-normal",children:"ر.س"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(u,{className:"lg:col-span-2 stat-card-premium",children:[e.jsx(p,{className:"section-header-executive pb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(G,{className:"w-5 h-5 text-accent"}),e.jsx(g,{className:"text-lg title-executive",children:"تحليل الإيرادات"})]})}),e.jsx(b,{children:e.jsx(k,{width:"100%",height:280,children:e.jsxs(ye,{data:ee,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"revenueGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#D4AF37",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#D4AF37",stopOpacity:0})]})}),e.jsx(R,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),e.jsx(P,{dataKey:"date",stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1}),e.jsx(M,{stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,tickFormatter:t=>`${t}`}),e.jsx(A,{contentStyle:{background:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",boxShadow:"var(--shadow-lg)"},formatter:t=>[`${t.toLocaleString("ar-SA")} ر.س`,"الإيرادات"]}),e.jsx(we,{type:"monotone",dataKey:"revenue",stroke:"#D4AF37",strokeWidth:2,fill:"url(#revenueGradient)"})]})})})]}),e.jsxs(u,{className:"stat-card-premium",children:[e.jsx(p,{className:"section-header-executive pb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ie,{className:"w-5 h-5 text-accent"}),e.jsx(g,{className:"text-lg title-executive",children:"طرق الدفع"})]})}),e.jsx(b,{children:e.jsx(k,{width:"100%",height:220,children:e.jsxs(ke,{children:[e.jsx(Ae,{data:K,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:3,dataKey:"value",children:K.map((t,s)=>e.jsx(Ne,{fill:z[s%z.length]},`cell-${s}`))}),e.jsx(A,{contentStyle:{background:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"},formatter:t=>[`${t.toLocaleString("ar-SA")} ر.س`,""]}),e.jsx(ve,{})]})})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(u,{className:"stat-card-premium",children:[e.jsx(p,{className:"section-header-executive pb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Se,{className:"w-5 h-5 text-accent"}),e.jsx(g,{className:"text-lg title-executive",children:"أفضل المنتجات"})]})}),e.jsx(b,{children:e.jsxs("div",{className:"space-y-4",children:[$.map((t,s)=>e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center text-sm font-bold
                      ${s===0?"bg-gradient-to-br from-amber-400 to-background0 text-slate-900":s===1?"bg-slate-200 text-slate-700":s===2?"bg-accent text-accent":"bg-slate-100 text-slate-600"}`,children:s+1}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-foreground",children:t.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.count," طلب"]})]}),e.jsx("div",{className:"text-left",children:e.jsxs("p",{className:"font-semibold text-foreground",children:[t.revenue.toLocaleString("ar-SA")," ر.س"]})})]},t.name)),$.length===0&&e.jsx("p",{className:"text-center text-muted-foreground py-8",children:"لا توجد بيانات"})]})})]}),e.jsxs(u,{className:"stat-card-premium",children:[e.jsx(p,{className:"section-header-executive pb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(V,{className:"w-5 h-5 text-accent"}),e.jsx(g,{className:"text-lg title-executive",children:"نظرة سريعة"})]})}),e.jsx(b,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-gradient-to-br from-amber-50 to-amber-100 dark:from-amber-900/20 dark:to-amber-800/20 border border-primary dark:border-primary",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(V,{className:"w-4 h-4 text-accent"}),e.jsx("span",{className:"text-sm text-accent dark:text-accent",children:"الفروع"})]}),e.jsx("p",{className:"text-2xl font-bold text-accent dark:text-accent",children:B.length})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-gradient-to-br from-emerald-50 to-emerald-100 dark:from-emerald-900/20 dark:to-emerald-800/20 border border-emerald-200 dark:border-emerald-700",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(W,{className:"w-4 h-4 text-emerald-600"}),e.jsx("span",{className:"text-sm text-emerald-700 dark:text-emerald-300",children:"الموظفين"})]}),e.jsx("p",{className:"text-2xl font-bold text-emerald-800 dark:text-emerald-200",children:N.length})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 border border-blue-200 dark:border-blue-700",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(me,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm text-blue-700 dark:text-blue-300",children:"طلبات اليوم"})]}),e.jsx("p",{className:"text-2xl font-bold text-blue-800 dark:text-blue-200",children:I.length})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 border border-purple-200 dark:border-purple-700",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(F,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{className:"text-sm text-purple-700 dark:text-purple-300",children:"إيراد اليوم"})]}),e.jsx("p",{className:"text-2xl font-bold text-purple-800 dark:text-purple-200",children:Z.toFixed(0)})]})]})})]})]}),e.jsxs(u,{className:"stat-card-premium",children:[e.jsx(p,{className:"section-header-executive pb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Fe,{className:"w-5 h-5 text-accent"}),e.jsx(g,{className:"text-lg title-executive",children:"مقارنة أداء الفروع"})]})}),e.jsx(b,{children:D.length>0?e.jsxs("div",{className:"space-y-4",children:[e.jsx(k,{width:"100%",height:200,children:e.jsxs(q,{data:D,layout:"vertical",children:[e.jsx(R,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),e.jsx(P,{type:"number",stroke:"hsl(var(--muted-foreground))",fontSize:12}),e.jsx(M,{dataKey:"name",type:"category",stroke:"hsl(var(--muted-foreground))",fontSize:12,width:80}),e.jsx(A,{contentStyle:{background:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"},formatter:t=>[`${t.toLocaleString("ar-SA")} ر.س`,"الإيرادات"]}),e.jsx(H,{dataKey:"revenue",fill:"#D4AF37",radius:[0,4,4,0]})]})}),e.jsx("div",{className:"table-premium",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-border",children:[e.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-muted-foreground",children:"الفرع"}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-muted-foreground",children:"الإيرادات"}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-muted-foreground",children:"الطلبات"}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-muted-foreground",children:"متوسط الطلب"}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-muted-foreground",children:"النمو"})]})}),e.jsx("tbody",{children:D.slice(0,5).map((t,s)=>e.jsxs("tr",{className:"border-b border-border/50 hover:bg-muted/30 transition-colors",children:[e.jsx("td",{className:"py-3 px-4 font-medium",children:t.name}),e.jsxs("td",{className:"py-3 px-4",children:[t.revenue.toLocaleString("ar-SA")," ر.س"]}),e.jsx("td",{className:"py-3 px-4",children:t.orders}),e.jsxs("td",{className:"py-3 px-4",children:[t.avgOrder.toFixed(0)," ر.س"]}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs(O,{className:t.growth>=0?"badge-premium badge-success":"badge-premium badge-danger",children:[t.growth>=0?e.jsx(U,{className:"w-3 h-3"}):e.jsx(Ce,{className:"w-3 h-3"}),Math.abs(t.growth).toFixed(1),"%"]})})]},s))})]})})]}):e.jsx("p",{className:"text-center text-muted-foreground py-8",children:"لا توجد بيانات فروع متاحة"})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(u,{className:"stat-card-premium",children:[e.jsx(p,{className:"section-header-executive pb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(De,{className:"w-5 h-5 text-accent"}),e.jsx(g,{className:"text-lg title-executive",children:"تحليل تكلفة العمالة"})]})}),e.jsxs(b,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-gradient-to-br from-amber-50 to-amber-100 dark:from-amber-900/20 dark:to-amber-800/20 border border-primary dark:border-primary",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(F,{className:"w-4 h-4 text-accent"}),e.jsx("span",{className:"text-sm text-accent dark:text-accent",children:"التكلفة الشهرية (تقديرية)"})]}),e.jsxs("p",{className:"text-2xl font-bold text-accent dark:text-accent",children:[x.totalCost.toLocaleString("ar-SA")," ",e.jsx("span",{className:"text-sm font-normal",children:"ر.س"})]})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 border border-blue-200 dark:border-blue-700",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Y,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm text-blue-700 dark:text-blue-300",children:"نسبة من الإيرادات المتوقعة"})]}),e.jsxs("p",{className:"text-2xl font-bold text-blue-800 dark:text-blue-200",children:[x.laborPercent.toFixed(1),"%"]}),e.jsxs("p",{className:"text-xs text-blue-500 dark:text-blue-400 mt-1",children:["(إيراد شهري متوقع: ",x.projectedMonthlyRevenue.toLocaleString("ar-SA")," ر.س)"]})]})]}),e.jsx(k,{width:"100%",height:200,children:e.jsxs(q,{data:x.byRole,children:[e.jsx(R,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),e.jsx(P,{dataKey:"role",stroke:"hsl(var(--muted-foreground))",fontSize:12}),e.jsx(M,{stroke:"hsl(var(--muted-foreground))",fontSize:12}),e.jsx(A,{contentStyle:{background:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"},formatter:(t,s)=>[s==="count"?`${t} موظف`:`${t.toLocaleString("ar-SA")} ر.س`,s==="count"?"العدد":"التكلفة"]}),e.jsx(H,{dataKey:"costEstimate",fill:"#D4AF37",radius:[4,4,0,0],name:"التكلفة"})]})})]})]}),e.jsxs(u,{className:"stat-card-premium",children:[e.jsx(p,{className:"section-header-executive pb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ee,{className:"w-5 h-5 text-accent"}),e.jsx(g,{className:"text-lg title-executive",children:"توزيع الموظفين"})]})}),e.jsxs(b,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-gradient-to-br from-emerald-50 to-emerald-100 dark:from-emerald-900/20 dark:to-emerald-800/20 border border-emerald-200 dark:border-emerald-700",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(W,{className:"w-4 h-4 text-emerald-600"}),e.jsx("span",{className:"text-sm text-emerald-700 dark:text-emerald-300",children:"إجمالي الموظفين"})]}),e.jsx("p",{className:"text-2xl font-bold text-emerald-800 dark:text-emerald-200",children:x.totalEmployees})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 border border-purple-200 dark:border-purple-700",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(xe,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{className:"text-sm text-purple-700 dark:text-purple-300",children:"متوسط التكلفة"})]}),e.jsxs("p",{className:"text-2xl font-bold text-purple-800 dark:text-purple-200",children:[x.avgCostPerEmployee.toFixed(0)," ",e.jsx("span",{className:"text-sm font-normal",children:"ر.س"})]})]})]}),e.jsx("div",{className:"space-y-3",children:x.byRole.map((t,s)=>e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-24 text-sm font-medium",children:t.role}),e.jsx("div",{className:"flex-1 h-3 bg-muted rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-amber-400 to-background0 rounded-full",style:{width:`${t.count/x.totalEmployees*100}%`}})}),e.jsxs("div",{className:"w-16 text-sm text-muted-foreground text-left",children:[t.count," موظف"]})]},s))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs(j,{onClick:()=>n("/manager/dashboard"),className:"h-20 btn-premium flex flex-col gap-2",children:[e.jsx(G,{className:"w-6 h-6"}),e.jsx("span",{children:"لوحة التحكم"})]}),e.jsxs(j,{onClick:()=>n("/employee/pos"),variant:"outline",className:"h-20 flex flex-col gap-2 border-primary hover:border-primary hover:bg-background dark:hover:bg-primary/20",children:[e.jsx(Le,{className:"w-6 h-6 text-accent"}),e.jsx("span",{children:"نقاط البيع"})]}),e.jsxs(j,{onClick:()=>n("/manager/inventory"),variant:"outline",className:"h-20 flex flex-col gap-2 border-emerald-200 hover:border-emerald-400 hover:bg-emerald-50 dark:hover:bg-emerald-900/20",children:[e.jsx(Oe,{className:"w-6 h-6 text-emerald-600"}),e.jsx("span",{children:"المخزون"})]}),e.jsxs(j,{onClick:()=>n("/os/accounting"),variant:"outline",className:"h-20 flex flex-col gap-2 border-blue-200 hover:border-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:[e.jsx(Te,{className:"w-6 h-6 text-blue-600"}),e.jsx("span",{children:"المحاسبة"})]})]})]}),e.jsx("footer",{className:"border-t border-border mt-12 py-6",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6 text-center",children:e.jsxs("p",{className:"text-sm text-muted-foreground",children:["CLUNY CAFE Enterprise © ",new Date().getFullYear()," - نظام إدارة المقاهي المتكامل"]})})})]})}export{ot as default};
